{% extends 'base.html' %}
{% block title %}Lobby{% endblock title %}

{% block content %}
    <h2>Video Chat Lobby</h2>

    <a href="{% url 'create_room' %}" style="display: block; margin-bottom: 20px;">
        <button>Create New Room</button>
    </a>
    
    <h3>Active Rooms</h3>
    
    {% if rooms %}
        <ul>
        {% for room in rooms %}
            <li>
                <a href="{% url 'room' room.room_id %}">
                    Room: <strong>{{ room.name }}</strong> 
                </a>
                (Host: {{ room.host.first_name|default:room.host.email }})
            </li>
        {% empty %}
            <li>No active rooms found.</li>
        {% endfor %}
        </ul>
    {% endif %}

{% endblock content %}